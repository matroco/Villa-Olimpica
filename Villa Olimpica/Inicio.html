<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Villa Ol√≠mpica de Barahona ‚Äî Inicio</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --accent-blue: #1d4ed8;
      --accent-green: #22c55e;
      --glass: rgba(255,255,255,0.04);
      --muted: rgba(230,238,248,0.65);
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Inter", sans-serif;
      background: url('https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=2000&q=80') center/cover fixed no-repeat;
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* overlay difuminado para legibilidad */
    .bg-overlay {
      background: linear-gradient(180deg, rgba(2,6,23,0.55), rgba(2,6,23,0.78));
      backdrop-filter: blur(4px) saturate(120%);
      min-height: 100vh;
    }

    .card {
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 1rem;
      transition: transform .35s cubic-bezier(.2,.9,.2,1), box-shadow .35s;
    }
    .card:hover {
      transform: translateY(-6px) scale(1.01);
      box-shadow: 0 18px 40px rgba(2,6,23,0.6);
    }

    .title-gradient {
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-green));
  background-clip: text; /* est√°ndar: evita el error */
  -webkit-background-clip: text; /* necesario para Chrome */
  -webkit-text-fill-color: transparent;
}

    /* Pabell√≥n cards (no images) */
    .pab-card {
      border-radius: 14px;
      padding: 18px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-height: 150px;
      transition: transform .35s, box-shadow .35s;
    }
    .pab-card:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 16px 36px rgba(2,6,23,0.55); }

    .icon-badge {
      width:56px; height:56px; border-radius:10px; display:flex; align-items:center; justify-content:center;
      font-size:20px; color: white;
    }

    /* activity card */
    .actividad-card {
      border-radius: 10px;
      padding: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* Animaciones: mix (fade + slide + zoom) */
    .appear {
      opacity: 0;
      transform: translateY(14px) scale(.985);
      transition: opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1);
    }
    .appear.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* bot√≥n principal */
    .btn-main { background: linear-gradient(90deg,var(--accent-blue), #2563eb); color: white; }

    /* estilos peque√±os */
    .small-muted { color: rgba(230,238,248,0.65); font-size: .95rem; }
    .soft-shadow { box-shadow: 0 10px 28px rgba(2,6,23,0.6); }

    /* responsive tweaks */
    @media (min-width: 1024px) {
      .grid-pabs { grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>

<body>
  <div class="bg-overlay min-h-screen">
    <!-- NAV -->
    <header class="max-w-7xl mx-auto flex items-center justify-between py-6 px-6">
      <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-lg flex items-center justify-center text-white font-extrabold"
             style="background: linear-gradient(90deg,var(--accent-blue),var(--accent-green));">
          V
        </div>
        <div>
          <div class="text-lg font-bold">Villa Ol√≠mpica de Barahona</div>
          <div class="text-xs small-muted">Complejo Deportivo Villa Central</div>
        </div>
      </div>

      <nav class="flex items-center gap-4">
        <a href="inicio.html" class="text-sm text-gray-200 hover:underline">Inicio</a>
        <a href="reservas.html" class="text-sm text-gray-200 hover:underline">Reservas</a>
        <button onclick="window.location.href='login.html'" class="px-4 py-2 rounded-md border border-white/10 text-sm">Iniciar sesi√≥n</button>
      </nav>
    </header>

    <!-- HERO -->
    <section class="max-w-6xl mx-auto px-6 text-center pt-8 pb-12">
      <h1 class="text-4xl md:text-5xl font-extrabold mb-4 title-gradient">Centro Deportivo del Sur ‚Äî Villa Ol√≠mpica de Barahona</h1>
      <p class="max-w-3xl mx-auto small-muted leading-relaxed">
        Un espacio dedicado al fortalecimiento del deporte y la recreaci√≥n en la regi√≥n Sur,
        ofreciendo instalaciones y programas para el desarrollo de atletas y la comunidad.
      </p>
    </section>

    <!-- MAIN LAYOUT -->
    <main class="max-w-6xl mx-auto px-6 pb-16 grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- LEFT: Rese√±a hist√≥rica (completa) -->
      <article id="rese√±a" class="lg:col-span-2 card soft-shadow appear" data-appear>
        <h2 class="text-2xl font-bold mb-3">Rese√±a Hist√≥rica de la Instituci√≥n bajo Estudio</h2>

        <div class="prose prose-invert text-gray-200 max-w-none space-y-4">
          <p>
            La Villa Ol√≠mpica de Barahona, tambi√©n conocida como Complejo Deportivo Villa Central, es uno de los espacios deportivos m√°s importantes de la regi√≥n Sur de la Rep√∫blica Dominicana. Fue construida con el prop√≥sito de ofrecer un lugar adecuado para el desarrollo y fortalecimiento de las disciplinas deportivas, sirviendo como centro de alojamiento y entrenamiento de atletas provenientes de diferentes provincias del pa√≠s.
          </p>

          <p>
            Su creaci√≥n forma parte de los programas nacionales de infraestructura deportiva impulsados por el Estado Dominicano a finales de la d√©cada de los noventa, con la intenci√≥n de descentralizar el deporte y fomentar el talento joven fuera del Gran Santo Domingo. La Villa est√° ubicada en el sector Villa Central, del municipio y provincia de Barahona, y cuenta con canchas m√∫ltiples, √°reas de atletismo, dormitorios, comedor, gimnasio, oficinas administrativas y espacios de recreaci√≥n.
          </p>

          <p>
            Durante sus primeros a√±os, el complejo se utiliz√≥ principalmente para competencias provinciales y regionales, as√≠ como para eventos escolares y nacionales. Con el tiempo, la Villa Ol√≠mpica se consolid√≥ como un punto de referencia para el deporte en el Sur, apoyando tanto al alto rendimiento como a las actividades recreativas y comunitarias.
          </p>

          <p>
            Sin embargo, con el paso del tiempo se ha identificado la necesidad de modernizar los procesos internos de gesti√≥n y administraci√≥n, ya que la mayor√≠a de los procedimientos (como reservas, control de mantenimiento, registro de atletas y programaci√≥n de eventos) todav√≠a se realizan de forma manual o mediante registros dispersos. Esta situaci√≥n ha motivado la propuesta de implementar un Sistema de Administraci√≥n y Gesti√≥n Integral para la Villa Ol√≠mpica de Barahona, que permita digitalizar los procesos, reducir errores y optimizar la organizaci√≥n institucional.
          </p>

          <h3 class="mt-4 text-lg font-semibold">1.2 Misi√≥n</h3>
          <p>
            La misi√≥n de la Villa Ol√≠mpica de Barahona es promover el desarrollo integral del deporte y la recreaci√≥n en la regi√≥n Sur, brindando instalaciones seguras, modernas y funcionales para atletas, entrenadores y la comunidad en general. La instituci√≥n busca fomentar el talento deportivo local, facilitar la organizaci√≥n de eventos y contribuir al bienestar f√≠sico y social de los ciudadanos mediante la pr√°ctica constante de actividades deportivas.
          </p>

          <h3 class="mt-4 text-lg font-semibold">1.3 Visi√≥n</h3>
          <p>
            Ser reconocida como el principal centro deportivo del Sur de la Rep√∫blica Dominicana, destac√°ndose por su eficiencia administrativa, gesti√≥n moderna y excelencia en la formaci√≥n de atletas. La Villa Ol√≠mpica aspira a consolidarse como un espacio innovador, autosostenible y comprometido con la formaci√≥n de nuevas generaciones en el √°mbito del deporte y la recreaci√≥n saludable.
          </p>

          <h3 class="mt-4 text-lg font-semibold">1.4 Valores</h3>
          <ul>
            <li>Disciplina</li>
            <li>Respeto</li>
            <li>Excelencia</li>
            <li>Integridad</li>
            <li>Inclusi√≥n</li>
            <li>Colaboraci√≥n</li>
          </ul>

          <h3 class="mt-6 text-lg font-semibold">Sus Pabellones</h3>

          <p><strong>Palacio de los Deportes</strong> ‚Äî El palacio est√° pensado para deportes de cancha, espec√≠ficamente baloncesto. Las grader√≠as o asientos son colocados individualmente para mayor confort; no obstante, la reconfiguraci√≥n actual reduce ligeramente la capacidad total de espectadores.</p>

          <p><strong>Pabell√≥n de Gimnasia</strong> ‚Äî Pabell√≥n de entrenamiento donde se practicaban disciplinas como balonmano, lucha ol√≠mpica, boxeo, judo, taekwondo y tiro de campo. En la actualidad, algunas disciplinas se practican con recursos limitados; la halterofilia y el taekwondo cuentan con grupos reducidos que mantienen la pr√°ctica por iniciativa de sus entrenadores.</p>

          <p><strong>Piscina Ol√≠mpica</strong> ‚Äî Actualmente se encuentra seca y sin equipamiento para su uso por cerca de 30 a√±os; requiere intervenci√≥n para volver a funcionar a su capacidad original.</p>

          <p><strong>Campo y Pista</strong> ‚Äî Es el espacio m√°s concurrido en la actualidad; personas de distintas edades lo usan para correr, caminar y realizar ejercicios al aire libre.</p>

          <p><strong>Canchas al aire libre</strong> ‚Äî En total son 8 canchas al aire libre: 3 de baloncesto, 2 de voleibol y 3 de tenis; sirven tanto para entrenamiento como para actividades recreativas comunitarias.</p>
        </div>
      </article>

      <!-- RIGHT: Pabellones, Actividades y Mapa -->
      <aside class="space-y-6">

        <!-- PABELLONES: tarjetas interactivas -->
        <div class="card appear" data-appear>
          <h3 class="text-xl font-semibold mb-4">Pabellones y √Åreas</h3>

          <div class="grid grid-cols-1 gap-4 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1">
            <!-- Each pabellon uses reservar-area query parameter with id -->
            <div class="pab-card bg-gradient-to-br from-blue-600/70 to-blue-800/40 text-white">
              <div class="flex items-start justify-between">
                <div>
                  <div class="font-bold text-lg">Palacio de los Deportes</div>
                  <div class="text-sm small-muted">Baloncesto ‚Ä¢ Grader√≠as</div>
                </div>
                <div class="flex flex-col items-end">
                  <div class="icon-badge" style="background: rgba(255,255,255,0.06)">üèÄ</div>
                  <a class="mt-3 inline-block px-3 py-1 rounded-md bg-white/6 text-sm text-green-300 font-semibold"
                     href="reservar-area.html?instalacion=palacio_deportes">Reservar</a>
                </div>
              </div>
            </div>

            <div class="pab-card bg-gradient-to-br from-red-600/70 to-red-800/40 text-white">
              <div class="flex items-start justify-between">
                <div>
                  <div class="font-bold text-lg">Pabell√≥n de Gimnasia</div>
                  <div class="text-sm small-muted">Taekwondo ‚Ä¢ Halterofilia</div>
                </div>
                <div class="flex flex-col items-end">
                  <div class="icon-badge" style="background: rgba(255,255,255,0.06)">ü§∏</div>
                  <a class="mt-3 inline-block px-3 py-1 rounded-md bg-white/6 text-sm text-green-300 font-semibold"
                     href="reservar-area.html?instalacion=pabellon_gimnasia">Reservar</a>
                </div>
              </div>
            </div>

            <div class="pab-card bg-gradient-to-br from-cyan-600/70 to-cyan-800/40 text-white">
              <div class="flex items-start justify-between">
                <div>
                  <div class="font-bold text-lg">Piscina Ol√≠mpica</div>
                  <div class="text-sm small-muted">Nataci√≥n (inactiva)</div>
                </div>
                <div class="flex flex-col items-end">
                  <div class="icon-badge" style="background: rgba(255,255,255,0.06)">üèä</div>
                  <a class="mt-3 inline-block px-3 py-1 rounded-md bg-white/6 text-sm text-green-300 font-semibold"
                     href="reservar-area.html?instalacion=piscina_olimpica">Reservar</a>
                </div>
              </div>
            </div>

            <div class="pab-card bg-gradient-to-br from-green-600/70 to-green-800/40 text-white">
              <div class="flex items-start justify-between">
                <div>
                  <div class="font-bold text-lg">Campo y Pista</div>
                  <div class="text-sm small-muted">Atletismo ‚Ä¢ Caminata</div>
                </div>
                <div class="flex flex-col items-end">
                  <div class="icon-badge" style="background: rgba(255,255,255,0.06)">üèÉ</div>
                  <a class="mt-3 inline-block px-3 py-1 rounded-md bg-white/6 text-sm text-green-300 font-semibold"
                     href="reservar-area.html?instalacion=campo_pista">Reservar</a>
                </div>
              </div>
            </div>

            <div class="pab-card bg-gradient-to-br from-yellow-600/70 to-yellow-800/40 text-white">
              <div class="flex items-start justify-between">
                <div>
                  <div class="font-bold text-lg">Canchas al Aire Libre</div>
                  <div class="text-sm small-muted">Basket ‚Ä¢ Voleibol ‚Ä¢ Tenis</div>
                </div>
                <div class="flex flex-col items-end">
                  <div class="icon-badge" style="background: rgba(255,255,255,0.06)">üéæ</div>
                  <a class="mt-3 inline-block px-3 py-1 rounded-md bg-white/6 text-sm text-green-300 font-semibold"
                     href="reservar-area.html?instalacion=canchas_aire_libre">Reservar</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ACTIVIDADES: din√°micas desde Supabase, paginadas -->
        <div class="card appear" data-appear>
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-xl font-semibold">Actividades Pr√≥ximas</h3>
            <button id="btnVerTodas" class="text-sm px-3 py-1 rounded-md border border-white/10 text-gray-200" onclick="location.href='actividades.html'">Ver todas</button>
          </div>

          <div id="actividadesContainer" class="space-y-3">
            <div class="text-sm text-gray-400">Cargando actividades‚Ä¶</div>
          </div>

          <div class="mt-4 text-center">
            <button id="btnCargarMas" class="px-4 py-2 rounded-md bg-white/6 text-sm text-gray-200 hidden">Cargar m√°s</button>
          </div>
        </div>

        <!-- MAPA -->
        <div class="card appear" data-appear>
          <h3 class="text-xl font-semibold mb-3">Ubicaci√≥n</h3>
          <div class="w-full h-48 rounded-md overflow-hidden border border-white/6">
            <iframe
              title="Ubicaci√≥n Villa Ol√≠mpica de Barahona"
              width="100%"
              height="100%"
              style="border:0"
              loading="lazy"
              allowfullscreen
              referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3823.9722259619493!2d-71.11154822501753!3d18.20737888267757!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8eecaef63b41f7d9%3A0xbcdbe7d441e9339!2sVilla%20Ol%C3%ADmpica%20de%20Barahona!5e0!3m2!1ses!2sdo!4v1731011500000!5m2!1ses!2sdo">
            </iframe>
          </div>
        </div>

      </aside>
    </main>

    <!-- FOOTER -->
    <footer class="max-w-6xl mx-auto px-6 py-8 text-gray-300 text-sm">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <div class="font-semibold mb-1">Contacto institucional</div>
          <div>Direcci√≥n: Villa Central, Barahona</div>
          <div>Tel√©fono: 809-000-0000</div>
          <div>Email: contacto@villaolimpica.com</div>
        </div>

        <div>
          <div class="font-semibold mb-1">Horario</div>
          <div>Lunes - Domingo: 6:00 AM - 9:00 PM</div>
        </div>

        <div>
          <div class="font-semibold mb-1">Enlaces √∫tiles</div>
          <a href="reservas.html" class="hover:underline">Realizar reserva</a><br>
          <a href="menu-gestion.html" class="hover:underline">Panel de gesti√≥n</a>
        </div>
      </div>
      <div class="text-center text-xs mt-6 opacity-80">¬© Villa Ol√≠mpica de Barahona</div>
    </footer>
  </div>

  <!-- Supabase + animaciones + paginaci√≥n de actividades -->
  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js";

    // --- CONFIG: reemplaza si cambias credenciales
    const SUPABASE_URL = "https://wzovzfrrgknhvcozektc.supabase.co";
    const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6b3Z6ZnJyZ2tuaHZjb3pla3RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MzYyMTAsImV4cCI6MjA3ODExMjIxMH0.zhbQqSEje7RGhZpJlUEaGZ07nuCOCamQI7S97rf-Tfo";

    const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

    // Animaci√≥n: mostrar elementos con IntersectionObserver
    const appearEls = document.querySelectorAll('[data-appear]');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('show');
          e.target.classList.add('appear--done');
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });

    appearEls.forEach(el => { el.classList.add('appear'); io.observe(el); });

    // Actividades: paginaci√≥n
    const actividadesContainer = document.getElementById('actividadesContainer');
    const btnCargarMas = document.getElementById('btnCargarMas');
    let page = 0;
    const PAGE_SIZE = 6;

    function formatDate(d) {
      try {
        const date = new Date(d);
        return date.toLocaleDateString(undefined, { day: '2-digit', month: 'short', year: 'numeric' });
      } catch { return d; }
    }

    // Cargar p√°gina de actividades (offset-based)
    async function cargarActividadesPage(reset = false) {
      if (reset) {
        page = 0;
        actividadesContainer.innerHTML = '';
        btnCargarMas.classList.add('hidden');
      }

      const offset = page * PAGE_SIZE;
      const hoy = new Date().toISOString().split('T')[0];
      const { data, error, count } = await supabase
        .from('actividades')
        .select('*', { count: 'exact' })
        .gte('fecha', hoy)
        .order('fecha', { ascending: true })
        .range(offset, offset + PAGE_SIZE - 1);

      if (error) {
        actividadesContainer.innerHTML = '<div class="text-sm text-red-400">Error al cargar actividades.</div>';
        console.error(error);
        return;
      }

      if (!data || data.length === 0) {
        if (page === 0) actividadesContainer.innerHTML = '<div class="text-sm text-gray-400">No hay actividades programadas.</div>';
        btnCargarMas.classList.add('hidden');
        return;
      }

      // insertar tarjetas con animaci√≥n
      data.forEach((a, idx) => {
        const div = document.createElement('div');
        div.className = 'actividad-card appear';
        div.style.transitionDelay = `${(idx % PAGE_SIZE) * 80}ms`; // stagger
        div.innerHTML = `
          <div class="flex items-start justify-between">
            <div>
              <div class="font-semibold">${a.nombre}</div>
              <div class="text-xs small-muted">${a.lugar || 'Lugar no definido'}</div>
            </div>
            <div class="text-xs small-muted text-right">${formatDate(a.fecha)}${a.hora ? ' ‚Ä¢ ' + a.hora : ''}</div>
          </div>
          <p class="mt-2 text-sm text-gray-200">${(a.descripcion || '').substring(0, 200)}</p>
        `;
        actividadesContainer.appendChild(div);
        io.observe(div);
      });

      // show load-more button if there are more
      const totalLoaded = (page + 1) * PAGE_SIZE;
      if (count > totalLoaded) {
        btnCargarMas.classList.remove('hidden');
      } else {
        btnCargarMas.classList.add('hidden');
      }

      page += 1;
    }

    btnCargarMas.addEventListener('click', () => cargarActividadesPage(false));

    // Inicia carga primera p√°gina
    (async () => {
      await cargarActividadesPage(true);
    })();

    // Peque√±a mejora: permitir que las fichas de pabellones tambi√©n usen animaci√≥n click y foco
    document.querySelectorAll('.pab-card a').forEach(a => {
      a.addEventListener('click', (e) => {
        // efecto r√°pido antes de navegar (accesible)
        const el = e.currentTarget;
        el.classList.add('opacity-80', 'scale-95');
        setTimeout(() => {
          // navegaci√≥n: ya indicada en el href
        }, 120);
      });
    });

    // Si quieres, puedes exponer una funci√≥n global para recargar actividades desde el menu de gesti√≥n
    window.recargarActividades = async () => {
      await cargarActividadesPage(true);
    };

  </script>
</body>
</html>
